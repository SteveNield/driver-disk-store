DROP TABLE BasketItem
DROP TABLE Basket
DROP TABLE Product
DROP TABLE Model
DROP TABLE Make
DROP TABLE OperatingSystem
DROP TABLE DeliveryOption
GO

CREATE TABLE Make (
	Id UNIQUEIDENTIFIER NOT NULL,
	Name VARCHAR(50) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE Model (
	Id UNIQUEIDENTIFIER NOT NULL,
	Name VARCHAR(50) NOT NULL,
	MakeId UNIQUEIDENTIFIER REFERENCES Make(Id) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE OperatingSystem (
	Id UNIQUEIDENTIFIER NOT NULL,
	Name VARCHAR(50) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE Product (
	Id UNIQUEIDENTIFIER NOT NULL,
	LongDescription VARCHAR(1000),
	MakeId UNIQUEIDENTIFIER REFERENCES Make(Id) NOT NULL,
	ModelId UNIQUEIDENTIFIER REFERENCES Model(Id) NOT NULL,
	OperatingSystemId UNIQUEIDENTIFIER REFERENCES OperatingSystem(Id) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE DeliveryOption (
	Id UNIQUEIDENTIFIER NOT NULL,
	Name VARCHAR(100) NOT NULL,
	IsShipped BIT NOT NULL,
	Price DECIMAL(4,2) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE Basket (
	Id UNIQUEIDENTIFIER NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE BasketItem (
	Id UNIQUEIDENTIFIER NOT NULL,
	BasketId UNIQUEIDENTIFIER REFERENCES Basket(Id) NOT NULL,
	ProductId UNIQUEIDENTIFIER REFERENCES Product(Id) NOT NULL,
	DeliveryOptionId UNIQUEIDENTIFIER REFERENCES DeliveryOption(Id) NOT NULL,
	Quantity INT NOT NULL,
	PRIMARY KEY (Id)
);